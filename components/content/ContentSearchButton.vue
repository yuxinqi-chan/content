<template>
  <UButton
    :icon="appConfig.ui.icons.search"
    :label="label"
    truncate
    v-bind="!!label ? $ui?.button?.input : $ui?.button?.secondary"
    aria-label="Search"
    :class="[!!label && 'flex-1']"
    @click="toggleContentSearch"
  >
    <template v-if="!!label" #trailing>
      <div
        class="-my-1 ml-auto hidden flex-shrink-0 items-center gap-0.5 lg:flex"
      >
        <UKbd>
          {{ metaSymbol }}
        </UKbd>
        <UKbd> K </UKbd>
      </div>
    </template>
  </UButton>
</template>

<script setup>
const appConfig = useAppConfig();
const { $ui } = useNuxtApp();
const { toggleContentSearch } = useUIState();
const { metaSymbol } = useShortcuts();

defineProps({
  label: {
    type: String,
    default: "Search...",
  },
});
</script>
